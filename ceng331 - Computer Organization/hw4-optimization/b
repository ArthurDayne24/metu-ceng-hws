char conv6_descr[] = "conv6";
void conv6(int dim, int *src, int *ker,int *dst) {
    int ker0  = ker[0];
    int ker1  = ker[1];
    int ker2  = ker[2];
    int ker3  = ker[3];
    int ker4  = ker[4];
    int ker5  = ker[5];
    int ker6  = ker[6];
    int ker7  = ker[7];

    ker += dim;
    int ker8  = ker[0];
    int ker9  = ker[1];
    int ker10 = ker[2];
    int ker11 = ker[3];
    int ker12 = ker[4];
    int ker13 = ker[5];
    int ker14 = ker[6];
    int ker15 = ker[7];
    
    ker += dim;
    int ker16 = ker[0];
    int ker17 = ker[1];
    int ker18 = ker[2];
    int ker19 = ker[3];
    int ker20 = ker[4];
    int ker21 = ker[5];
    int ker22 = ker[6];
    int ker23 = ker[7];
    
    ker += dim;
    int ker24 = ker[0];
    int ker25 = ker[1];
    int ker26 = ker[2];
    int ker27 = ker[3];
    int ker28 = ker[4];
    int ker29 = ker[5];
    int ker30 = ker[6];
    int ker31 = ker[7];
    
    ker += dim;
    int ker32 = ker[0];
    int ker33 = ker[1];
    int ker34 = ker[2];
    int ker35 = ker[3];
    int ker36 = ker[4];
    int ker37 = ker[5];
    int ker38 = ker[6];
    int ker39 = ker[7];
    
    ker += dim;
    int ker40 = ker[0];
    int ker41 = ker[1];
    int ker42 = ker[2];
    int ker43 = ker[3];
    int ker44 = ker[4];
    int ker45 = ker[5];
    int ker46 = ker[6];
    int ker47 = ker[7];
    
    ker += dim;
    int ker48 = ker[0];
    int ker49 = ker[1];
    int ker50 = ker[2];
    int ker51 = ker[3];
    int ker52 = ker[4];
    int ker53 = ker[5];
    int ker54 = ker[6];
    int ker55 = ker[7];
    
    ker += dim;
    int ker56 = ker[0];
    int ker57 = ker[1];
    int ker58 = ker[2];
    int ker59 = ker[3];
    int ker60 = ker[4];
    int ker61 = ker[5];
    int ker62 = ker[6];
    int ker63 = ker[7];

    int rdim = dim-7;
    int dim8 = dim-8;
    for(int j = 0; j < rdim; ++j, dst += dim, src += dim) {
        int acc0, acc1, acc2, acc3, f0, f1;
        for(int i = 0; i < dim8; i+=2) {
            int *srcji = src+i;
            
            f0 = srcji[0];
            f1 = srcji[1];
            acc0   = f0*ker0 ;
            acc1   = f1*ker1 ;
            acc3   = f1*ker0 ;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker2 ;
            acc1  += f1*ker3 ;
            acc2   = f0*ker1 ;
            acc3  += f1*ker2 ;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker4 ;
            acc1  += f1*ker5 ;
            acc2  += f0*ker3 ;
            acc3  += f1*ker4 ;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker6 ;
            acc1  += f1*ker7 ;
            acc2  += f0*ker5 ;
            acc3  += f1*ker6 ;
            
            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker8 ;
            acc1  += f1*ker9 ;
            acc2  += f0*ker7 ;
            acc3  += f1*ker8 ;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker10;
            acc1  += f1*ker11;
            acc2  += f0*ker9 ;
            acc3  += f1*ker10;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker12;
            acc1  += f1*ker13;
            acc2  += f0*ker11;
            acc3  += f1*ker12;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker14;
            acc1  += f1*ker15;
            acc2  += f0*ker13;
            acc3  += f1*ker14;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker16;
            acc1  += f1*ker17;
            acc2  += f0*ker15;
            acc3  += f1*ker16;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker18;
            acc1  += f1*ker19;
            acc2  += f0*ker17;
            acc3  += f1*ker18;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker20;
            acc1  += f1*ker21;
            acc2  += f0*ker19;
            acc3  += f1*ker20;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker22;
            acc1  += f1*ker23;
            acc2  += f0*ker21;
            acc3  += f1*ker22;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker24;
            acc1  += f1*ker25;
            acc2  += f0*ker23;
            acc3  += f1*ker24;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker26;
            acc1  += f1*ker27;
            acc2  += f0*ker25;
            acc3  += f1*ker26;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker28;
            acc1  += f1*ker29;
            acc2  += f0*ker27;
            acc3  += f1*ker28;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker30;
            acc1  += f1*ker31;
            acc2  += f0*ker29;
            acc3  += f1*ker30;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker32;
            acc1  += f1*ker33;
            acc2  += f0*ker31;
            acc3  += f1*ker32;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker34;
            acc1  += f1*ker35;
            acc2  += f0*ker33;
            acc3  += f1*ker34;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker36;
            acc1  += f1*ker37;
            acc2  += f0*ker35;
            acc3  += f1*ker36;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker38;
            acc1  += f1*ker39;
            acc2  += f0*ker37;
            acc3  += f1*ker38;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker40;
            acc1  += f1*ker41;
            acc2  += f0*ker39;
            acc3  += f1*ker40;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker42;
            acc1  += f1*ker43;
            acc2  += f0*ker41;
            acc3  += f1*ker42;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker44;
            acc1  += f1*ker45;
            acc2  += f0*ker43;
            acc3  += f1*ker44;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker46;
            acc1  += f1*ker47;
            acc2  += f0*ker45;
            acc3  += f1*ker46;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker48;
            acc1  += f1*ker49;
            acc2  += f0*ker47;
            acc3  += f1*ker48;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker50;
            acc1  += f1*ker51;
            acc2  += f0*ker49;
            acc3  += f1*ker50;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker52;
            acc1  += f1*ker53;
            acc2  += f0*ker51;
            acc3  += f1*ker52;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker54;
            acc1  += f1*ker55;
            acc2  += f0*ker53;
            acc3  += f1*ker54;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker56;
            acc1  += f1*ker57;
            acc2  += f0*ker55;
            acc3  += f1*ker56;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker58;
            acc1  += f1*ker59;
            acc2  += f0*ker57;
            acc3  += f1*ker58;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker60;
            acc1  += f1*ker61;
            acc2  += f0*ker59;
            acc3  += f1*ker60;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker62;
            acc1  += f1*ker63;
            acc2  += f0*ker61;
            acc3  += f1*ker62;

            acc2  += srcji[8]*ker63;

            dst[i]   = (acc0 + acc1);
            dst[i+1] = (acc2 + acc3);
        }
            int *srcji = src+dim8;
            
            f0 = srcji[0];
            f1 = srcji[1];
            acc0   = f0*ker0 ;
            acc1   = f1*ker1 ;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker2 ;
            acc1  += f1*ker3 ;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker4 ;
            acc1  += f1*ker5 ;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker6 ;
            acc1  += f1*ker7 ;
            
            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker8 ;
            acc1  += f1*ker9 ;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker10;
            acc1  += f1*ker11;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker12;
            acc1  += f1*ker13;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker14;
            acc1  += f1*ker15;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker16;
            acc1  += f1*ker17;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker18;
            acc1  += f1*ker19;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker20;
            acc1  += f1*ker21;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker22;
            acc1  += f1*ker23;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker24;
            acc1  += f1*ker25;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker26;
            acc1  += f1*ker27;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker28;
            acc1  += f1*ker29;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker30;
            acc1  += f1*ker31;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker32;
            acc1  += f1*ker33;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker34;
            acc1  += f1*ker35;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker36;
            acc1  += f1*ker37;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker38;
            acc1  += f1*ker39;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker40;
            acc1  += f1*ker41;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker42;
            acc1  += f1*ker43;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker44;
            acc1  += f1*ker45;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker46;
            acc1  += f1*ker47;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker48;
            acc1  += f1*ker49;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker50;
            acc1  += f1*ker51;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker52;
            acc1  += f1*ker53;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker54;
            acc1  += f1*ker55;

            srcji += dim;
            f0 = srcji[0];
            f1 = srcji[1];
            acc0  += f0*ker56;
            acc1  += f1*ker57;
            f0 = srcji[2];
            f1 = srcji[3];
            acc0  += f0*ker58;
            acc1  += f1*ker59;
            f0 = srcji[4];
            f1 = srcji[5];
            acc0  += f0*ker60;
            acc1  += f1*ker61;
            f0 = srcji[6];
            f1 = srcji[7];
            acc0  += f0*ker62;
            acc1  += f1*ker63;

            dst[dim8] = (acc0+acc1);
    }
}
